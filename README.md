# SummerSchoolTasks

# ================= 1 - Репликация ч1 =============

## Сложность = |*    |

Репликация — процесс создания двух дочерних молекул ДНК на основе родительской молекулы ДНК. Репликацию ДНК осуществляет сложный комплекс, состоящий из 15—20 различных белков-ферментов. Для репликации вирусы постоянно делят свое ДНК — тем самым сокращая его. Для вирусов оптимальным вариантом деления является репликация самого длинного гена. Также каждый вирус обладает генетическим деревом. Генетическое дерево представляет собой двоичное дерево, которое удовлетворяет свойству: если ген B является узлом-потомком гена A, то длина гена А ≥ длины гена В .

При удалении гена, вирус замещает его самым последнем геном в иерархии и проводит операцию замещения. Замещение — процесс обмена в дереве короткого гена с более длинным. Если более короткий ген в иерархии выше — он обменивается с прямым(соседним) по иерархии, более длинным геном. Операции замещения происходят независимо до тех пор, пока вся иерархия не будет удовлетворять свойству генетического дерева.
При добавлении гена, он добавляется самым последним в иерархии и также происходит операция замещения.

Ваша задача — эмуляция поведения генотипа вируса. Есть запросы на добавление гена и удаление вершины генетического дерева.
После каждого запроса выведете новую вершину и количество операций замещения выполненных в ходе операции.

## Входные данные

Первая строка ввода содержит целое число N, P - количество запрсов (2 ≤ N ≤ 10^8, 1 ≤ P ≤ 10^9).
Далее следует N запросов, где операция добавления: "+ Ai", где Ai - длина i-го добавляемого гена (1 ≤ Ai ≤ 10^9). "-" - операция удаления.
Гарантируется, что каждый добавляемый ген будет по длине меньше предыдущего Ai > Aj для всех j > i, а также P > Ai.
Также гарантируется что в любой момент времени генетическое дерево будет не пустым.

## Выходные данные
После каждой опреции выводится строка вида "C T", где C - количество операций замещения в ходе операции, T - новый топовый элемент в иерархии




# ================= 2 - Репликация ч2 =============

## Сложность = |**   |

Для увеличения продолжительности существования, вирусы используют коревалюацию. Процесс при котором вирус добавляет в свой генотип произвольный ген. 

Ваша задача - эмуляция поведения генотипа вируса в условиях отсутствия возможности предсказать добавляемый ген.

## Входные данные

Первая строка ввода содержит целое число N, P - количество запрсов (2 ≤ N ≤ 10^6, 1 ≤ P ≤ 10^9).
Далее следует N запросов, где операция добавления: "+ Ai", где Ai - длина i-го добавляемого гена (1 ≤ Ai ≤ 10^9). "-" - операция удаления.
Гарантируется что в любой момент времени генетическое дерево будет не пустым.

## Выходные данные

После каждой опреции выводится строка вида "C T", где C - количество операций замещения в ходе операции, T - новый топовый элемент в иерархии

# ================= 3 - Заражение =============

## Сложность = |**  |

Для успешного деления вирусам нужны носители. Чем больше зараженных поверхностей тем больше зараженных. Каждый заражаемый предмет связан напрямую с другим. Однако на разном расстоянии. Все поверхности можно представить в качестве ациклического графа где каждая поверхность пронумерована целым неотрицательным числом. Каждый вирус может с одной поверхности переместиться на другую за время Vi, вирус не может вернуться на зараженную им поверхность из-за возможных трасмутаций. Также вирусы не могут соосуществовать на одной поверхности.
Есть N вирусов единой группы, где ai - время жизни i-ого вируса. Коэфициент распостранения вируса = сумма остаточной жизни на последней поверхности. Время перехода - с поверхности на поверхность. В случае не возможности найти конечную поверхность, вирус погибает.

## Входные данные

Первая строка ввода содержит целое число E, N, S (1 ≤ E ≤ 10^7, 1 ≤ N, S < E), где E - количество соединений поверхностей, N - количество вирусов, S - номер поверхности с которой вирусы начинаю распостранение. Начальная поверхность не может быть посленей поверхностью.
Далее строка с N элементами где Ai - время жизни i-ого вируса.
Далее следует E строк вида "Vi Ti Ci",  поверхность с номером Vi связана с поверхностью с номером Ti и время перемещения Ci.

## Выходные данные

Вывести единственное число - максимально возможной коэфициент распостранения вируса.


# ================= 4 - Коэволюция =============

## Сложность = |***  |


После того, как учены изучили процесс самой репликации, они решили его воспроизвести. Каждый вирус для репликации использует ДНК-полимеразу и ДНК-лигазу. Они имеют свойство поглащать и повторять за счет этого сами себя. 

Рассмотрим весь процесс. В самом начале, в гене имеется А полимераз и Т лигаз. Во всем геноме гены полимераза и лигаза находятся в нубывающем порядке по количеству. В самом начале, в случае перевеса одной из цепей, она поглащает другую и возвращается в структуру, занимая в ней неубывающую позицию. В случае совпадения длины, ученые считали что поглощение случайно. Однако расчитав так называемый коэфициент "ямы" они выяснили, что коэфициента "ямы97%" достаточно для теории что полимераза поглащает лигазу каждый 4 раз. Этого достаточно для ученых. Для оценки плотности, ученые считают как далеко цепь переместилась в геноме.

## Входные данные

Первая строка входного файла содержит два целых числа, разделенных одним пробелом, это числа N и M (1 ≤ N, M ≤ 250 000) соответственно.

Во второй строке в неубывающем порядке расположено N целых чисел Ai
(1 ≤ Ai ≤ 10^9), разделённых одиночными пробелами – количество кружек в коллекции каждого жителя Байторибо до начала турнира. Числа в строке заданы в порядке не убывания.

В третьей строке заданы M целых чисел  Bj (1 ≤ Bj ≤ 10^9) – количество кружек в коллекции каждого жителя Байтобаджо до начала турнира. Числа в строке заданы в порядке не убывания.

## Выходные данные

В единственной строке выходного файла выведите одно целое число – суммарную плотность генома.


# ================= 5 - Синтез и борьба =============

## Сложность = |***  |

Поиск и синтез лекарства крайне затруднительно. Для разрушения РНК вируса используется таргетное модулирование генома и данная процедура является многоэтапной. Для полного синтеза используется сеть медицинских центров. Транспорт медиков вынужден перемещаться между центрами. От каждого центра до любого другого можно добраться ровно одним способом, и длины дорог везде одинаковы. Однако для ускорения поиска лекарства было принято решения провести реформу. Было решено выбрать несколько центров и назначить их ГУЦПЛ(главное управление центра поиска лекарства). На обслуживание ГУЦПЛ приходится тратить много средств - K даляров в квартал. Считается, что ГУЦПЛ всегда имеет возможность произвести синтез.

Каждому центру, не являющемуся ГУЦПЛ, было принято решение назначить ГУЦПЛ, который будет отвечать за синтез в данном центре. В таком случае затраты на обслуживание равняются Dlen даляров в квартал, где len — расстояние от центра до соответствующего ГУЦПЛ, измеряемое в количестве дорог, которые надо проехать.

Ваша задача минимизировать расходы на проведение реформы.

## Входные данные
В первой строке заданы два целых числа N, K (1 ≤ N ≤ 100, 1 ≤ K ≤ 10^5).

Во второй строке записано N - 1 целых чисел Vi, нумерующихся с единицы ( Vi ≤ Vi+1, 0 ≤ Di ≤ 10^5).

В следующих n - 1 строках заданы пары номеров городов соединенных дорогой.

## Выходные данные
В первой строке выведите минимальное количество даляров, затрачиваемых на обслуживание за квартал. Во второй строке выведите n чисел, где i-ое число будет обозначать номер ГУЦПЛ, который был назначен i-ому центру. Если i-й центр сам является ГУЦПЛ, то следует вывести число i.

Если решений несколько, выведите любое.
